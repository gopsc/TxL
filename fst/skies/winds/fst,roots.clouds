change lines rule

add type transforms

add clean process