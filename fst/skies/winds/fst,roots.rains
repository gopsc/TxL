change lines rule

add type transforms

add clean process


not-cleared formal variables return