project(javalibrary-telephony)

set(REPO_PATH ${GENERAL_SOURCE_PATH}/android-telephony)

set(eventlogtags_SRCS
    ${CMAKE_CURRENT_SOURCE_DIR}/eventlogtags/com/android/internal/telephony/EventLogTags.java
)

set(aidl_entries_to_handle
#     this aidl file is not an interface and cannot be handled by the tool
#     src/java/com/android/internal/telephony/uicc/AdnRecord
    src/java/com/android/internal/telephony/IIccPhoneBook
)

set(telephony_SRCS
    ${REPO_PATH}/src/java/android/provider/Telephony.java
    ${REPO_PATH}/src/java/android/telephony/SmsCbCmasInfo.java
    ${REPO_PATH}/src/java/android/telephony/SmsCbEtwsInfo.java
    ${REPO_PATH}/src/java/android/telephony/SmsCbLocation.java
    ${REPO_PATH}/src/java/android/telephony/SmsCbMessage.java
    ${REPO_PATH}/src/java/android/telephony/gsm/SmsMessage.java
    ${REPO_PATH}/src/java/android/telephony/gsm/SmsManager.java
    ${REPO_PATH}/src/java/android/telephony/CellBroadcastMessage.java
    ${REPO_PATH}/src/java/android/telephony/SmsManager.java
    ${REPO_PATH}/src/java/android/telephony/SmsMessage.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/ATParseEx.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/ATResponseParser.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/CallForwardInfo.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/CallStateException.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/IccPhoneBookInterfaceManagerProxy.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/IccSmsInterfaceManager.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/MccTable.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/PhoneBase.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/SmsStorageMonitor.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/DriverCall.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/PhoneFactory.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/IccCard.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/InboundSmsHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/Phone.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/SmsHeader.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/IccUtils.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/InboundSmsTracker.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/IntRangeManager.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/OperatorInfo.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/PhoneNotifier.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/PhoneProxy.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/PhoneStateIntentReceiver.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/PhoneSubInfoProxy.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/RIL.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/SMSDispatcher.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/ServiceStateTracker.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/RestrictedState.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/RetryManager.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/SmsApplication.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/SmsAddress.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/SmsBroadcastUndelivered.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/SmsMessageBase.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/SmsResponse.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/SmsUsageMonitor.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/TelephonyCapabilities.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/TelephonyTester.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/WapPushOverSms.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/UUSInfo.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/WakeLockStateMachine.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/WapPushManagerParams.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/WspTypeDecoder.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/BerTlv.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/CatException.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/CommandDetails.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/ComprehensionTlv.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/ComprehensionTlvTag.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/Duration.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/FontSize.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/ImageDescriptor.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/Input.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/LaunchBrowserMode.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/Menu.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/PresentationType.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/ResponseData.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/ResultCode.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/ResultException.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/TextAlignment.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/TextAttribute.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/TextColor.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/TextMessage.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/Tone.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/ToneSettings.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/ValueParser.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/AppInterface.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/CatCmdMessage.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/CatLog.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/CatResponseMessage.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/CatService.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/CommandParams.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/CommandParamsFactory.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/IconLoader.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/Item.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cat/RilMessageDecoder.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaCallWaitingNotification.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaInformationRecords.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaSmsBroadcastConfigInfo.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/EriInfo.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/EriManager.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/RuimPhoneBookInterfaceManager.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/SignalToneUtil.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/sms/CdmaSmsAddress.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/sms/SmsEnvelope.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/sms/UserData.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/sms/BearerData.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/sms/CdmaSmsSubaddress.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CDMALTEPhone.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CDMAPhone.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CallFailCause.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaCall.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaCallTracker.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaConnection.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaInboundSmsHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaLteServiceStateTracker.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaMmiCode.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaSMSDispatcher.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaServiceCategoryProgramHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaServiceStateTracker.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/CdmaSubscriptionSourceManager.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/SmsMessage.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/cdma/TtyIntent.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DcFailBringUp.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DcRetryAlarmController.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DcTesterDeactivateAll.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DcTesterFailBringUpAll.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/ApnContext.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/ApnSetting.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DataCallResponse.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DataConnection.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DcAsyncChannel.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DcController.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DcFailCause.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DcTracker.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/dataconnection/DcTrackerBase.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GsmSmsAddress.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GsmSmsCbMessage.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/SimPhoneBookInterfaceManager.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/SimTlv.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/SmsBroadcastConfigInfo.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/SmsCbHeader.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/SuppServiceNotification.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/UsimDataDownloadHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/UsimPhoneBookManager.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/CallFailCause.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GSMPhone.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GsmCall.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GsmCallTracker.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GsmCellBroadcastHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GsmConnection.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GsmInboundSmsHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GsmMmiCode.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GsmSMSDispatcher.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/GsmServiceStateTracker.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/SmsCbConstants.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/gsm/SmsMessage.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/sip/SipCallBase.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/sip/SipPhoneFactory.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/sip/SipCommandInterface.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/sip/SipConnectionBase.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/sip/SipPhone.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/sip/SipPhoneBase.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/test/ModelInterpreter.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/test/SimulatedGsmCallState.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/test/SimulatedRadioControl.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/test/SimulatedCommands.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/AdnRecord.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/AdnRecordCache.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/AdnRecordLoader.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccCardStatus.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccException.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccFileNotFound.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccFileTypeMismatch.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccIoResult.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccRefreshResponse.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccServiceTable.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccUtils.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccVmFixedException.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccVmNotSupportedException.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/SIMFileHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/UsimServiceTable.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/VoiceMailConstants.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/CsimFileHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccCardApplicationStatus.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccCardProxy.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccConstants.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccFileHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IccRecords.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IsimFileHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IsimRecords.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/IsimUiccRecords.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/RuimFileHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/RuimRecords.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/SIMRecords.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/SpnOverride.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/UiccCard.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/UiccCardApplication.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/UiccController.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/uicc/UsimFileHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/BaseCommands.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/Call.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/CallManager.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/CallTracker.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/CellBroadcastHandler.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/CommandException.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/CommandsInterface.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/Connection.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/DebugService.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/DefaultPhoneNotifier.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/IccPhoneBookInterfaceManager.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/IccProvider.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/ImsSMSDispatcher.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/MmiCode.java
    ${REPO_PATH}/src/java/com/android/internal/telephony/PhoneSubInfo.java
)

foreach(_fileNameAndPathWithoutExtension ${aidl_entries_to_handle})
    add_custom_command(OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/${_fileNameAndPathWithoutExtension}.java
        COMMAND aidl -d${CMAKE_CURRENT_BINARY_DIR}/${_fileNameAndPathWithoutExtension}.P -b -I${REPO_PATH} -I${REPO_PATH}/src -I${REPO_PATH}/src/java ${REPO_PATH}/${_fileNameAndPathWithoutExtension}.aidl  ${CMAKE_CURRENT_BINARY_DIR}/${_fileNameAndPathWithoutExtension}.java
        )
    list(APPEND javalibrary_telephony_interface_SRCS "${CMAKE_CURRENT_BINARY_DIR}/${_fileNameAndPathWithoutExtension}.java")
endforeach()


set(CMAKE_JAVA_COMPILE_FLAGS -J-Xmx2048M -target 1.5 -source 1.5 -encoding UTF-8 -Xmaxwarns 9999999 -g -bootclasspath ${CMAKE_BINARY_DIR}/src/deps/javalibrary-core/core.jar -extdirs \"\")
add_jar(telephony-common SOURCES ${eventlogtags_SRCS} ${telephony_SRCS} ${javalibrary_telephony_interface_SRCS} INCLUDE_JARS core framework voip-common)
# install_jar(telephony-common ${ANDROID_JAR_DIR})
